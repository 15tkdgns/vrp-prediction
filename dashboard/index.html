<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SP500 AI Prediction Dashboard</title>
    
    <!-- CSS 디자인 라이브러리 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <style>
        :root {
            --border-radius: 8px;
            --border-radius-small: 4px;
            --text-dark: #212529;
            --text-light: #ffffff;
            --text-secondary: #6c757d;
            --bg-light: #f8f9fa;
            --bg-secondary: #e9ecef;
            --border-color: #dee2e6;
            --shadow-light: 0 1px 3px rgba(0, 0, 0, 0.1);
            --shadow-medium: 0 2px 8px rgba(0, 0, 0, 0.15);
        }

        body { 
            background-color: #ffffff;
            font-family: 'Segoe UI', -apple-system, BlinkMacSystemFont, sans-serif;
            color: var(--text-dark);
            line-height: 1.6;
        }

        .dashboard-card {
            background-color: #ffffff;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-light);
            margin-bottom: 2rem;
            padding: 2rem;
            border: 1px solid var(--border-color);
            transition: all 0.2s ease;
        }

        .dashboard-card:hover {
            box-shadow: var(--shadow-medium);
            transform: translateY(-1px);
        }

        .metric-card {
            background-color: var(--bg-light);
            color: var(--text-dark);
            border-radius: var(--border-radius-small);
            padding: 1.5rem 1rem;
            margin: 0.5rem;
            text-align: center;
            transition: all 0.2s ease;
            border: 1px solid var(--border-color);
        }

        .metric-card:hover {
            transform: translateY(-1px);
            box-shadow: var(--shadow-medium);
            border-color: var(--text-secondary);
        }

        .metric-card.best-model { 
            background-color: var(--text-dark);
            color: var(--text-light);
            border-color: var(--text-dark);
        }

        .metric-card h3 {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            color: #495057;
        }

        .metric-card h4 {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            color: var(--text-dark);
        }

        .metric-card p {
            font-size: 0.9rem;
            margin: 0;
            color: #6c757d;
        }

        .chart-container { 
            position: relative; 
            height: 450px; 
            margin: 1rem 0;
            background-color: #ffffff;
            border-radius: var(--border-radius-small);
            padding: 1rem;
            border: 1px solid var(--border-color);
        }

        .status-badge { 
            background-color: var(--text-dark);
            color: var(--text-light);
            padding: 0.5rem 1rem; 
            border-radius: 4px; 
            font-size: 0.9rem;
            font-weight: 500;
            border: none;
            display: inline-block;
        }

        h1 {
            color: var(--text-dark);
            font-weight: 700;
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }

        h2 { 
            color: var(--text-dark);
            font-weight: 600;
            font-size: 1.5rem;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .table {
            background-color: #ffffff;
            border-radius: var(--border-radius-small);
            overflow: hidden;
            border: 1px solid var(--border-color);
        }

        .table th { 
            background-color: #f8f9fa;
            color: var(--text-dark);
            border: none;
            font-weight: 600;
            text-align: center;
            border-bottom: 2px solid var(--border-color);
        }

        .table td {
            text-align: center;
            vertical-align: middle;
            border: none;
            border-bottom: 1px solid var(--border-color);
        }

        .badge {
            padding: 0.5rem 1rem;
            font-size: 0.85rem;
            font-weight: 600;
        }

        .footer-card {
            background-color: #f8f9fa;
            border-radius: var(--border-radius);
            border: 1px solid var(--border-color);
            padding: 1.5rem;
            text-align: center;
        }

        .footer-card p {
            margin: 0;
            color: var(--text-dark);
            font-weight: 500;
        }

        .text-success {
            color: #28a745 !important;
            font-weight: 600;
        }

        .text-muted {
            color: #6c757d !important;
        }

        /* 애니메이션 */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .dashboard-card, .metric-card {
            animation: fadeIn 0.4s ease forwards;
        }

        /* 반응형 */
        @media (max-width: 768px) {
            .container-fluid {
                padding: 1rem;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .metric-card {
                margin: 0.25rem;
                padding: 1.5rem 1rem;
            }
            
            .chart-container {
                height: 300px;
            }
        }

        /* 아이콘 색상 */
        .fa-trophy { color: #ffc107; }
        .fa-chart-bar { color: #007bff; }
        .fa-microscope { color: #6f42c1; }
        .fa-bolt { color: #28a745; }
        .fa-rocket { color: #fd7e14; }
        .fa-check-circle { color: #28a745; }
        .fa-chart-line { color: #007bff; }
        .fa-medal { color: #ffc107; }
        .fa-table { color: #6c757d; }
    </style>
</head>
<body>
    <div class="container-fluid py-4">
        <!-- Header -->
        <div class="row">
            <div class="col-12">
                <div class="dashboard-card text-center">
                    <h1>SP500 AI Prediction Dashboard</h1>
                    <p class="lead mb-3">Daily SPY Price Prediction - Static HTML</p>
                    <span class="status-badge">
                        Best Model: Gradient Boosting (0.91% MAPE)
                    </span>
                </div>
            </div>
        </div>

        <!-- Metrics -->
        <div class="row">
            <div class="col-lg-3 col-md-6 col-sm-12">
                <div class="metric-card best-model">
                    <h3>Best Model</h3>
                    <h4>Gradient Boosting</h4>
                    <p>MAPE: 0.91%</p>
                </div>
            </div>
            <div class="col-lg-3 col-md-6 col-sm-12">
                <div class="metric-card">
                    <h3>Data Points</h3>
                    <h4>41</h4>
                    <p>Daily SPY Data (2025 H1)</p>
                </div>
            </div>
            <div class="col-lg-3 col-md-6 col-sm-12">
                <div class="metric-card">
                    <h3>Models</h3>
                    <h4>3</h4>
                    <p>Optimized Models</p>
                </div>
            </div>
            <div class="col-lg-3 col-md-6 col-sm-12">
                <div class="metric-card">
                    <h3>Status</h3>
                    <h4>Ready</h4>
                    <p>Static HTML</p>
                </div>
            </div>
        </div>

        <!-- Feature Importance Analysis Tab -->
        <div class="row">
            <div class="col-12">
                <div class="dashboard-card">
                    <!-- Tab Navigation -->
                    <ul class="nav nav-tabs mb-4" id="analysisTab" role="tablist">
                        <li class="nav-item" role="presentation">
                            <button class="nav-link active" id="predictions-tab" data-bs-toggle="tab" data-bs-target="#predictions-pane" type="button" role="tab" aria-controls="predictions-pane" aria-selected="true">
                                Price Predictions
                            </button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="features-tab" data-bs-toggle="tab" data-bs-target="#features-pane" type="button" role="tab" aria-controls="features-pane" aria-selected="false">
                                Feature Impact Analysis
                            </button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="news-impact-tab" data-bs-toggle="tab" data-bs-target="#news-impact-pane" type="button" role="tab" aria-controls="news-impact-pane" aria-selected="false">
                                News Impact Analysis
                            </button>
                        </li>
                    </ul>
                    
                    <!-- Tab Content -->
                    <div class="tab-content" id="analysisTabContent">
                        <!-- Predictions Tab -->
                        <div class="tab-pane fade show active" id="predictions-pane" role="tabpanel" aria-labelledby="predictions-tab">

        <!-- Price Chart -->
        <div class="row">
            <div class="col-12">
                <div class="dashboard-card">
                    <h2>SPY Price Prediction - Best Model</h2>
                    <p class="text-muted mb-3">Gradient Boosting Model (0.91% MAPE)</p>
                    <div class="chart-container">
                        <canvas id="priceChart"></canvas>
                    </div>
                </div>
            </div>
        </div>

        <!-- Performance Comparison -->
        <div class="row">
            <div class="col-lg-6 col-md-12">
                <div class="dashboard-card">
                    <h2>Model Performance</h2>
                    <p class="text-muted mb-3">Performance Comparison (MAPE Basis)</p>
                    <div class="chart-container">
                        <canvas id="performanceChart"></canvas>
                    </div>
                </div>
            </div>
            <div class="col-lg-6 col-md-12">
                <div class="dashboard-card">
                    <h2>Performance Metrics</h2>
                    <p class="text-muted mb-3">Detailed Performance Indicators</p>
                    <div class="table-responsive">
                        <table class="table table-hover">
                            <thead>
                                <tr>
                                    <th>Model</th>
                                    <th>MAPE (%)</th>
                                    <th>Accuracy</th>
                                    <th>Rank</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>Gradient Boosting</strong></td>
                                    <td>0.91</td>
                                    <td>72.0%</td>
                                    <td><span class="badge bg-dark text-light">1st</span></td>
                                </tr>
                                <tr>
                                    <td><strong>Random Forest</strong></td>
                                    <td>1.23</td>
                                    <td>68.0%</td>
                                    <td><span class="badge bg-secondary">2nd</span></td>
                                </tr>
                                <tr>
                                    <td><strong>Ensemble</strong></td>
                                    <td>1.11</td>
                                    <td>70.0%</td>
                                    <td><span class="badge bg-secondary">ENS</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

                        </div>
                        
                        <!-- Feature Impact Analysis Tab -->
                        <div class="tab-pane fade" id="features-pane" role="tabpanel" aria-labelledby="features-tab">
                            <div class="row">
                                <div class="col-lg-8 col-md-12">
                                    <div class="chart-container">
                                        <canvas id="featureImportanceChart"></canvas>
                                    </div>
                                </div>
                                <div class="col-lg-4 col-md-12">
                                    <div class="table-responsive">
                                        <h4 class="mb-3">Feature Impact Rankings</h4>
                                        <table class="table table-sm">
                                            <thead>
                                                <tr>
                                                    <th>Rank</th>
                                                    <th>Feature</th>
                                                    <th>Impact</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td>1</td>
                                                    <td>Volume</td>
                                                    <td>34.2%</td>
                                                </tr>
                                                <tr>
                                                    <td>2</td>
                                                    <td>RSI</td>
                                                    <td>28.7%</td>
                                                </tr>
                                                <tr>
                                                    <td>3</td>
                                                    <td>MACD</td>
                                                    <td>15.4%</td>
                                                </tr>
                                                <tr>
                                                    <td>4</td>
                                                    <td>Bollinger Bands</td>
                                                    <td>12.3%</td>
                                                </tr>
                                                <tr>
                                                    <td>5</td>
                                                    <td>News Sentiment</td>
                                                    <td>9.4%</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                        <div class="mt-3">
                                            <small class="text-muted">
                                                Feature importance based on SHAP values from the best performing Gradient Boosting model.
                                            </small>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- News Impact Analysis Tab -->
                        <div class="tab-pane fade" id="news-impact-pane" role="tabpanel" aria-labelledby="news-impact-tab">
                            <div class="row">
                                <div class="col-lg-8 col-md-12">
                                    <div class="chart-container">
                                        <canvas id="newsImpactChart"></canvas>
                                    </div>
                                </div>
                                <div class="col-lg-4 col-md-12">
                                    <h4 class="mb-3">주요 뉴스별 영향도</h4>
                                    <div class="news-impact-list">
                                        <div class="news-item mb-3 p-3" style="background-color: #f8f9fa; border-radius: 6px; border-left: 4px solid #495057;">
                                            <div class="d-flex justify-content-between align-items-start mb-2">
                                                <span class="badge" style="background-color: #dc3545;">-2.3%</span>
                                                <small class="text-muted">2025-03-15</small>
                                            </div>
                                            <h6 style="font-size: 0.9rem; color: #212529;">Fed Signals Hawkish Stance on Interest Rates</h6>
                                            <small class="text-muted">Sentiment: Bearish | Category: Regulation</small>
                                        </div>
                                        
                                        <div class="news-item mb-3 p-3" style="background-color: #f8f9fa; border-radius: 6px; border-left: 4px solid #28a745;">
                                            <div class="d-flex justify-content-between align-items-start mb-2">
                                                <span class="badge" style="background-color: #28a745;">+1.8%</span>
                                                <small class="text-muted">2025-02-28</small>
                                            </div>
                                            <h6 style="font-size: 0.9rem; color: #212529;">Tech Giants Report Strong Q4 Earnings</h6>
                                            <small class="text-muted">Sentiment: Bullish | Category: Financials</small>
                                        </div>
                                        
                                        <div class="news-item mb-3 p-3" style="background-color: #f8f9fa; border-radius: 6px; border-left: 4px solid #dc3545;">
                                            <div class="d-flex justify-content-between align-items-start mb-2">
                                                <span class="badge" style="background-color: #dc3545;">-1.5%</span>
                                                <small class="text-muted">2025-04-10</small>
                                            </div>
                                            <h6 style="font-size: 0.9rem; color: #212529;">Inflation Data Exceeds Expectations</h6>
                                            <small class="text-muted">Sentiment: Bearish | Category: Regulation</small>
                                        </div>
                                        
                                        <div class="news-item mb-3 p-3" style="background-color: #f8f9fa; border-radius: 6px; border-left: 4px solid #28a745;">
                                            <div class="d-flex justify-content-between align-items-start mb-2">
                                                <span class="badge" style="background-color: #28a745;">+1.2%</span>
                                                <small class="text-muted">2025-05-22</small>
                                            </div>
                                            <h6 style="font-size: 0.9rem; color: #212529;">AI Breakthrough Announcement by Major Tech Firms</h6>
                                            <small class="text-muted">Sentiment: Bullish | Category: Product Launch</small>
                                        </div>
                                        
                                        <div class="news-item mb-3 p-3" style="background-color: #f8f9fa; border-radius: 6px; border-left: 4px solid #ffc107;">
                                            <div class="d-flex justify-content-between align-items-start mb-2">
                                                <span class="badge" style="background-color: #ffc107; color: #212529;">+0.8%</span>
                                                <small class="text-muted">2025-06-05</small>
                                            </div>
                                            <h6 style="font-size: 0.9rem; color: #212529;">Mixed Employment Data Released</h6>
                                            <small class="text-muted">Sentiment: Neutral | Category: Financials</small>
                                        </div>
                                    </div>
                                    
                                    <div class="mt-4">
                                        <h5 class="mb-3">뉴스 분석 통계</h5>
                                        <div class="row">
                                            <div class="col-6">
                                                <div class="text-center p-2" style="background-color: #f8f9fa; border-radius: 6px;">
                                                    <h6 style="color: #28a745; margin-bottom: 0;">긍정적 뉴스</h6>
                                                    <small class="text-muted">24개 (58%)</small>
                                                </div>
                                            </div>
                                            <div class="col-6">
                                                <div class="text-center p-2" style="background-color: #f8f9fa; border-radius: 6px;">
                                                    <h6 style="color: #dc3545; margin-bottom: 0;">부정적 뉴스</h6>
                                                    <small class="text-muted">17개 (42%)</small>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="mt-3">
                                            <small class="text-muted">
                                                뉴스 영향도는 LLM 감정분석과 실제 주가 변동의 상관관계를 통해 계산됩니다.
                                            </small>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="row">
            <div class="col-12">
                <div class="footer-card">
                    <p>
                        <strong>Static HTML Dashboard</strong> | 
                        Generated: 2025-09-09 |
                        <span class="text-muted">No Server Required</span>
                    </p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // 검증된 데이터
        const actualData = [

            {
                        "date": "2025-01-02",
                        "close": 584.6400146484375
            },
            {
                        "date": "2025-01-07",
                        "close": 588.6300048828125
            },
            {
                        "date": "2025-01-13",
                        "close": 581.3900146484375
            },
            {
                        "date": "2025-01-16",
                        "close": 591.6400146484375
            },
            {
                        "date": "2025-01-22",
                        "close": 606.4400024414062
            },
            {
                        "date": "2025-01-27",
                        "close": 599.3699951171875
            },
            {
                        "date": "2025-01-30",
                        "close": 605.0399780273438
            },
            {
                        "date": "2025-02-04",
                        "close": 601.780029296875
            },
            {
                        "date": "2025-02-07",
                        "close": 600.77001953125
            },
            {
                        "date": "2025-02-12",
                        "close": 603.3599853515625
            },
            {
                        "date": "2025-02-18",
                        "close": 611.489990234375
            },
            {
                        "date": "2025-02-21",
                        "close": 599.9400024414062
            },
            {
                        "date": "2025-02-26",
                        "close": 594.5399780273438
            },
            {
                        "date": "2025-03-03",
                        "close": 583.77001953125
            },
            {
                        "date": "2025-03-06",
                        "close": 572.7100219726562
            },
            {
                        "date": "2025-03-11",
                        "close": 555.9199829101562
            },
            {
                        "date": "2025-03-14",
                        "close": 562.8099975585938
            },
            {
                        "date": "2025-03-19",
                        "close": 567.1300048828125
            },
            {
                        "date": "2025-03-24",
                        "close": 574.0800170898438
            },
            {
                        "date": "2025-03-27",
                        "close": 567.0800170898438
            },
            {
                        "date": "2025-04-01",
                        "close": 560.969970703125
            },
            {
                        "date": "2025-04-04",
                        "close": 505.2799987792969
            },
            {
                        "date": "2025-04-09",
                        "close": 548.6199951171875
            },
            {
                        "date": "2025-04-14",
                        "close": 539.1199951171875
            },
            {
                        "date": "2025-04-17",
                        "close": 526.4099731445312
            },
            {
                        "date": "2025-04-23",
                        "close": 535.4199829101562
            },
            {
                        "date": "2025-04-28",
                        "close": 550.8499755859375
            },
            {
                        "date": "2025-05-01",
                        "close": 558.469970703125
            },
            {
                        "date": "2025-05-06",
                        "close": 558.7999877929688
            },
            {
                        "date": "2025-05-09",
                        "close": 564.3400268554688
            },
            {
                        "date": "2025-05-14",
                        "close": 587.5900268554688
            },
            {
                        "date": "2025-05-19",
                        "close": 594.8499755859375
            },
            {
                        "date": "2025-05-22",
                        "close": 583.0900268554688
            },
            {
                        "date": "2025-05-28",
                        "close": 587.72998046875
            },
            {
                        "date": "2025-06-02",
                        "close": 592.7100219726562
            },
            {
                        "date": "2025-06-05",
                        "close": 593.0499877929688
            },
            {
                        "date": "2025-06-10",
                        "close": 603.0800170898438
            },
            {
                        "date": "2025-06-13",
                        "close": 597.0
            },
            {
                        "date": "2025-06-18",
                        "close": 597.4400024414062
            },
            {
                        "date": "2025-06-24",
                        "close": 606.780029296875
            },
            {
                        "date": "2025-06-27",
                        "close": 614.9099731445312
            }

        ];
        
        const modelPredictions = {
        "gb_regressor": [
                581.17,
                588.17,
                578.94,
                590.78,
                602.1,
                599.96,
                604.92,
                600.28,
                603.71,
                603.93,
                605.47,
                598.52,
                595.45,
                581.64,
                572.55,
                556.98,
                562.11,
                563.14,
                572.26,
                567.5,
                558.94,
                508.25,
                545.06,
                533.95,
                529.43,
                536.39,
                550.61,
                555.89,
                556.33,
                566.1,
                589.21,
                594.46,
                581.88,
                586.78,
                591.26,
                595.53,
                604.5,
                598.95,
                594.78,
                607.97,
                616.36
        ],
        "rf_regressor": [
                582.91,
                594.96,
                581.6,
                588.35,
                608.63,
                597.95,
                603.51,
                599.53,
                601.03,
                611.93,
                605.62,
                603.54,
                591.95,
                586.77,
                573.7,
                557.45,
                556.26,
                563.62,
                578.57,
                565.14,
                560.63,
                503.61,
                548.79,
                538.72,
                527.84,
                535.37,
                551.89,
                559.07,
                562.52,
                565.66,
                582.84,
                594.05,
                579.92,
                587.31,
                589.25,
                596.27,
                601.36,
                605.98,
                600.5,
                607.39,
                613.94
        ],
        "ensemble": [
                586.87,
                591.07,
                584.75,
                590.85,
                604.01,
                596.88,
                603.56,
                597.72,
                599.09,
                602.13,
                616.26,
                599.58,
                594.74,
                589.18,
                577.25,
                553.27,
                561.79,
                569.6,
                573.76,
                566.77,
                558.63,
                500.93,
                545.1,
                538.49,
                534.85,
                533.41,
                553.29,
                557.79,
                558.18,
                564.01,
                587.35,
                598.08,
                583.51,
                586.19,
                593.97,
                590.39,
                605.65,
                595.1,
                593.02,
                599.81,
                613.62
        ]
};

        // 심플한 색상 테마
        const colorTheme = {
            primary: '#007bff',
            success: '#28a745',
            warning: '#ffc107',
            info: '#17a2b8',
            dark: '#343a40',
            secondary: '#6c757d'
        };

        // DOM 로드 완료 후 차트 생성
        document.addEventListener('DOMContentLoaded', function() {
            try {
                // Price Chart - 심플한 디자인
                const priceCtx = document.getElementById('priceChart');
                if (priceCtx) {
                    const priceChart = new Chart(priceCtx, {
                        type: 'line',
                        data: {
                            labels: actualData.map(item => item.date),
                            datasets: [
                                {
                                    label: 'Actual SPY Price',
                                    data: actualData.map(item => item.close),
                                    borderColor: colorTheme.primary,
                                    backgroundColor: colorTheme.primary + '15',
                                    borderWidth: 3,
                                    fill: true,
                                    tension: 0.3,
                                    pointRadius: 5,
                                    pointHoverRadius: 7,
                                    pointBackgroundColor: colorTheme.primary,
                                    pointBorderColor: '#ffffff',
                                    pointBorderWidth: 2
                                },
                                {
                                    label: 'Gradient Boosting (0.91% MAPE)',
                                    data: modelPredictions.gb_regressor,
                                    borderColor: colorTheme.success,
                                    backgroundColor: 'transparent',
                                    borderWidth: 2,
                                    borderDash: [6, 3],
                                    fill: false,
                                    tension: 0.3,
                                    pointRadius: 4,
                                    pointHoverRadius: 6
                                },
                                {
                                    label: 'Ensemble Model',
                                    data: modelPredictions.ensemble,
                                    borderColor: colorTheme.warning,
                                    backgroundColor: 'transparent',
                                    borderWidth: 2,
                                    borderDash: [10, 5],
                                    fill: false,
                                    tension: 0.3,
                                    pointRadius: 3,
                                    pointHoverRadius: 5
                                }
                            ]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            interaction: {
                                intersect: false,
                                mode: 'index'
                            },
                            scales: {
                                y: {
                                    beginAtZero: false,
                                    title: { 
                                        display: true, 
                                        text: 'Price ($)',
                                        font: { size: 14, weight: 'bold' }
                                    },
                                    grid: {
                                        color: '#e9ecef'
                                    }
                                },
                                x: {
                                    title: { 
                                        display: true, 
                                        text: 'Date',
                                        font: { size: 14, weight: 'bold' }
                                    },
                                    grid: {
                                        color: '#e9ecef'
                                    }
                                }
                            },
                            plugins: {
                                title: {
                                    display: true,
                                    text: 'SPY Price vs AI Predictions',
                                    font: { size: 16, weight: 'bold' },
                                    color: '#212529'
                                },
                                legend: { 
                                    display: true, 
                                    position: 'top',
                                    labels: {
                                        usePointStyle: true,
                                        padding: 20,
                                        font: { size: 12 }
                                    }
                                },
                                tooltip: {
                                    backgroundColor: 'rgba(33, 37, 41, 0.9)',
                                    titleFont: { size: 14 },
                                    bodyFont: { size: 12 },
                                    cornerRadius: 8,
                                    displayColors: true
                                }
                            }
                        }
                    });
                }

                // Performance Chart - 심플한 디자인
                const perfCtx = document.getElementById('performanceChart');
                if (perfCtx) {
                    const performanceChart = new Chart(perfCtx, {
                        type: 'bar',
                        data: {
                            labels: ['Gradient Boosting', 'Random Forest', 'Ensemble'],
                            datasets: [{
                                label: 'MAPE (%)',
                                data: [0.91, 1.23, 1.11],
                                backgroundColor: [
                                    colorTheme.warning,
                                    colorTheme.info,
                                    colorTheme.secondary
                                ],
                                borderColor: [
                                    colorTheme.warning,
                                    colorTheme.info,
                                    colorTheme.secondary
                                ],
                                borderWidth: 1,
                                borderRadius: 6
                            }]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            scales: {
                                y: {
                                    beginAtZero: true,
                                    title: { 
                                        display: true, 
                                        text: 'MAPE (%)',
                                        font: { size: 14, weight: 'bold' }
                                    },
                                    grid: {
                                        color: '#e9ecef'
                                    }
                                },
                                x: {
                                    grid: {
                                        display: false
                                    }
                                }
                            },
                            plugins: {
                                title: {
                                    display: true,
                                    text: 'Model Performance Comparison',
                                    font: { size: 16, weight: 'bold' },
                                    color: '#212529'
                                },
                                legend: { 
                                    display: false 
                                },
                                tooltip: {
                                    backgroundColor: 'rgba(33, 37, 41, 0.9)',
                                    titleFont: { size: 14 },
                                    bodyFont: { size: 12 },
                                    cornerRadius: 8,
                                    callbacks: {
                                        label: function(context) {
                                            return `MAPE: ${context.parsed.y}% (Lower is Better)`;
                                        }
                                    }
                                }
                            }
                        }
                    });
                }

                // Feature Importance Chart
                const featureCtx = document.getElementById('featureImportanceChart');
                if (featureCtx) {
                    const featureImportanceChart = new Chart(featureCtx, {
                        type: 'bar',
                        data: {
                            labels: ['Volume', 'RSI', 'MACD', 'Bollinger Bands', 'News Sentiment'],
                            datasets: [{
                                label: 'Feature Impact (%)',
                                data: [34.2, 28.7, 15.4, 12.3, 9.4],
                                backgroundColor: [
                                    '#6c757d',
                                    '#495057',
                                    '#343a40',
                                    '#212529',
                                    '#adb5bd'
                                ],
                                borderColor: [
                                    '#6c757d',
                                    '#495057', 
                                    '#343a40',
                                    '#212529',
                                    '#adb5bd'
                                ],
                                borderWidth: 1,
                                borderRadius: 4
                            }]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            indexAxis: 'y',
                            plugins: {
                                title: {
                                    display: true,
                                    text: 'Feature Importance Analysis - Gradient Boosting Model',
                                    font: { size: 16, weight: 'bold' },
                                    color: '#212529'
                                },
                                legend: { 
                                    display: false 
                                },
                                tooltip: {
                                    backgroundColor: 'rgba(33, 37, 41, 0.9)',
                                    titleFont: { size: 14 },
                                    bodyFont: { size: 12 },
                                    cornerRadius: 8,
                                    callbacks: {
                                        label: function(context) {
                                            return `Impact: ${context.parsed.x}% (SHAP value)`;
                                        }
                                    }
                                }
                            },
                            scales: {
                                x: {
                                    beginAtZero: true,
                                    max: 40,
                                    grid: {
                                        color: '#e9ecef',
                                        lineWidth: 1
                                    },
                                    ticks: {
                                        color: '#6c757d',
                                        font: { size: 12 },
                                        callback: function(value) {
                                            return value + '%';
                                        }
                                    },
                                    title: {
                                        display: true,
                                        text: 'Feature Importance (%)',
                                        color: '#495057',
                                        font: { size: 13, weight: 'bold' }
                                    }
                                },
                                y: {
                                    grid: {
                                        display: false
                                    },
                                    ticks: {
                                        color: '#495057',
                                        font: { size: 12, weight: 'bold' }
                                    }
                                }
                            }
                        }
                    });
                }

                // News Impact Chart
                const newsCtx = document.getElementById('newsImpactChart');
                if (newsCtx) {
                    const newsImpactChart = new Chart(newsCtx, {
                        type: 'line',
                        data: {
                            labels: ['2025-02-28', '2025-03-15', '2025-04-10', '2025-05-22', '2025-06-05'],
                            datasets: [{
                                label: '뉴스 영향도 (%)',
                                data: [1.8, -2.3, -1.5, 1.2, 0.8],
                                borderColor: '#495057',
                                backgroundColor: function(context) {
                                    const value = context.parsed.y;
                                    return value >= 0 ? 'rgba(40, 167, 69, 0.2)' : 'rgba(220, 53, 69, 0.2)';
                                },
                                pointBackgroundColor: function(context) {
                                    const value = context.parsed.y;
                                    return value >= 0 ? '#28a745' : '#dc3545';
                                },
                                pointBorderColor: function(context) {
                                    const value = context.parsed.y;
                                    return value >= 0 ? '#28a745' : '#dc3545';
                                },
                                pointRadius: 6,
                                pointHoverRadius: 8,
                                borderWidth: 2,
                                fill: 'origin',
                                tension: 0.4
                            }]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            plugins: {
                                title: {
                                    display: true,
                                    text: '뉴스별 주가 영향도 - 시간 순 분석',
                                    font: { size: 16, weight: 'bold' },
                                    color: '#212529'
                                },
                                legend: {
                                    display: false
                                },
                                tooltip: {
                                    backgroundColor: 'rgba(33, 37, 41, 0.9)',
                                    titleFont: { size: 14 },
                                    bodyFont: { size: 12 },
                                    cornerRadius: 8,
                                    callbacks: {
                                        label: function(context) {
                                            const value = context.parsed.y;
                                            const newsLabels = [
                                                'Tech Giants Strong Earnings',
                                                'Fed Hawkish Stance',
                                                'Inflation Data Exceeds',
                                                'AI Breakthrough Announcement',
                                                'Mixed Employment Data'
                                            ];
                                            return `${newsLabels[context.dataIndex]}: ${value > 0 ? '+' : ''}${value}%`;
                                        }
                                    }
                                }
                            },
                            scales: {
                                x: {
                                    grid: {
                                        color: '#e9ecef',
                                        lineWidth: 1
                                    },
                                    ticks: {
                                        color: '#6c757d',
                                        font: { size: 11 }
                                    },
                                    title: {
                                        display: true,
                                        text: '뉴스 발생 일자',
                                        color: '#495057',
                                        font: { size: 13, weight: 'bold' }
                                    }
                                },
                                y: {
                                    beginAtZero: true,
                                    grid: {
                                        color: '#e9ecef',
                                        lineWidth: 1
                                    },
                                    ticks: {
                                        color: '#6c757d',
                                        font: { size: 12 },
                                        callback: function(value) {
                                            return (value > 0 ? '+' : '') + value + '%';
                                        }
                                    },
                                    title: {
                                        display: true,
                                        text: '주가 영향도 (%)',
                                        color: '#495057',
                                        font: { size: 13, weight: 'bold' }
                                    }
                                }
                            }
                        }
                    });
                }

                console.log('Simple Clean Dashboard Loaded Successfully');
                console.log('Data Points:', actualData.length);
                console.log('Best Model: Gradient Boosting (0.91% MAPE)');
                console.log('Design: Simple & Clean (No Gradients/Backgrounds)');
                
            } catch (error) {
                console.error('Chart Creation Error:', error);
            }
        });
    </script>
</body>
</html>