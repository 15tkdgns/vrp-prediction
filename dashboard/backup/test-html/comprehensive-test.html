<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ§ª ì¢…í•© í”„ë¡œì íŠ¸ í…ŒìŠ¤íŠ¸ - ì°¨íŠ¸ ë Œë”ë§ ì¤‘ì‹¬</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="css/styles.css">
    <style>
        .test-container { margin: 20px; font-family: Arial, sans-serif; }
        .test-section { 
            margin: 20px 0; 
            padding: 20px; 
            border: 2px solid #ddd; 
            border-radius: 10px; 
            background: #f9f9f9;
        }
        .test-section.success { border-color: #4caf50; background: #e8f5e8; }
        .test-section.error { border-color: #f44336; background: #ffebee; }
        .test-section.warning { border-color: #ff9800; background: #fff3e0; }
        .test-result { 
            padding: 15px; 
            margin: 10px 0; 
            border-radius: 5px; 
            font-family: monospace;
            white-space: pre-wrap;
        }
        .test-button { 
            background: #007bff; 
            color: white; 
            padding: 12px 18px; 
            border: none; 
            border-radius: 6px; 
            cursor: pointer; 
            margin: 8px;
            font-weight: bold;
        }
        .test-button:hover { background: #0056b3; }
        .chart-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        .chart-card {
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 15px;
            background: white;
        }
        .chart-canvas {
            height: 200px !important;
            margin: 10px 0;
        }
        .status-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }
        .status-card {
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            font-weight: bold;
        }
        .status-ok { background: #e8f5e8; color: #2e7d32; }
        .status-fail { background: #ffebee; color: #c62828; }
        .status-warning { background: #fff3e0; color: #f57c00; }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>ğŸ§ª AI Stock Dashboard - ì¢…í•© í”„ë¡œì íŠ¸ í…ŒìŠ¤íŠ¸</h1>
        <p><strong>ì°¨íŠ¸ ë Œë”ë§ ì„±ëŠ¥ ë° ì „ì²´ ì‹œìŠ¤í…œ ì ê²€</strong></p>
        
        <!-- 1. ì‹œìŠ¤í…œ ìƒíƒœ ê°œìš” -->
        <div class="test-section" id="system-overview">
            <h2>ğŸ“Š ì‹œìŠ¤í…œ ìƒíƒœ ê°œìš”</h2>
            <div class="status-grid">
                <div class="status-card" id="api-status">API ì„œë²„: í™•ì¸ ì¤‘...</div>
                <div class="status-card" id="dashboard-status">ëŒ€ì‹œë³´ë“œ: í™•ì¸ ì¤‘...</div>
                <div class="status-card" id="data-status">ë°ì´í„° íŒŒì¼: í™•ì¸ ì¤‘...</div>
                <div class="status-card" id="chart-status">Chart.js: í™•ì¸ ì¤‘...</div>
            </div>
            <button class="test-button" onclick="runSystemCheck()">ğŸ” ì‹œìŠ¤í…œ ì ê²€ ì‹¤í–‰</button>
        </div>

        <!-- 2. API ì—°ê²° í…ŒìŠ¤íŠ¸ -->
        <div class="test-section" id="api-test">
            <h2>ğŸŒ API ì—°ê²° í…ŒìŠ¤íŠ¸</h2>
            <div class="test-result" id="api-result">ëŒ€ê¸° ì¤‘...</div>
            <button class="test-button" onclick="testAPI()">API í…ŒìŠ¤íŠ¸ ì‹œì‘</button>
        </div>

        <!-- 3. ì°¨íŠ¸ ë Œë”ë§ í…ŒìŠ¤íŠ¸ -->
        <div class="test-section" id="chart-render-test">
            <h2>ğŸ“ˆ ì°¨íŠ¸ ë Œë”ë§ í…ŒìŠ¤íŠ¸</h2>
            <div class="test-result" id="chart-render-result">ëŒ€ê¸° ì¤‘...</div>
            <button class="test-button" onclick="testChartRendering()">ì°¨íŠ¸ ë Œë”ë§ í…ŒìŠ¤íŠ¸</button>
            
            <div class="chart-grid" id="test-charts">
                <!-- í…ŒìŠ¤íŠ¸ ì°¨íŠ¸ë“¤ì´ ì—¬ê¸°ì— ìƒì„±ë©ë‹ˆë‹¤ -->
            </div>
        </div>

        <!-- 4. ë°ì´í„° ë§¤ë‹ˆì € í…ŒìŠ¤íŠ¸ -->
        <div class="test-section" id="datamanager-test">
            <h2>ğŸ—„ï¸ ë°ì´í„° ë§¤ë‹ˆì € í…ŒìŠ¤íŠ¸</h2>
            <div class="test-result" id="datamanager-result">ëŒ€ê¸° ì¤‘...</div>
            <button class="test-button" onclick="testDataManager()">ë°ì´í„° ë§¤ë‹ˆì € í…ŒìŠ¤íŠ¸</button>
        </div>

        <!-- 5. ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸ -->
        <div class="test-section" id="component-test">
            <h2>ğŸ§© ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸</h2>
            <div class="test-result" id="component-result">ëŒ€ê¸° ì¤‘...</div>
            <button class="test-button" onclick="testComponents()">ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸</button>
        </div>

        <!-- 6. ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ -->
        <div class="test-section" id="performance-test">
            <h2>âš¡ ì„±ëŠ¥ í…ŒìŠ¤íŠ¸</h2>
            <div class="test-result" id="performance-result">ëŒ€ê¸° ì¤‘...</div>
            <button class="test-button" onclick="testPerformance()">ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ ì‹œì‘</button>
        </div>

        <!-- 7. ì „ì²´ í…ŒìŠ¤íŠ¸ ì‹¤í–‰ -->
        <div class="test-section">
            <h2>ğŸš€ ì „ì²´ í…ŒìŠ¤íŠ¸ ì‹¤í–‰</h2>
            <button class="test-button" onclick="runAllTests()" style="background: #28a745; font-size: 1.2em; padding: 15px 25px;">
                ğŸ§ª ëª¨ë“  í…ŒìŠ¤íŠ¸ ì‹¤í–‰
            </button>
            <button class="test-button" onclick="generateReport()" style="background: #6f42c1;">
                ğŸ“‹ í…ŒìŠ¤íŠ¸ ë¦¬í¬íŠ¸ ìƒì„±
            </button>
        </div>
    </div>

    <!-- JavaScript íŒŒì¼ë“¤ ë¡œë“œ -->
    <script src="js/data-manager.js"></script>
    <script src="js/chart-manager.js"></script>
    <script src="js/components.js"></script>

    <script>
        // í…ŒìŠ¤íŠ¸ ê²°ê³¼ ì €ì¥
        const testResults = {
            systemCheck: null,
            api: null,
            chartRendering: null,
            dataManager: null,
            components: null,
            performance: null
        };

        // 1. ì‹œìŠ¤í…œ ì ê²€
        async function runSystemCheck() {
            console.log('ğŸ” ì‹œìŠ¤í…œ ì ê²€ ì‹œì‘...');
            const results = {};

            // API ì„œë²„ ì²´í¬
            try {
                const response = await fetch('http://localhost:8091/api/stocks/live', { timeout: 3000 });
                results.api = response.ok;
                document.getElementById('api-status').textContent = 
                    response.ok ? 'API ì„œë²„: âœ… ì •ìƒ' : 'API ì„œë²„: âŒ ì˜¤ë¥˜';
                document.getElementById('api-status').className = 
                    'status-card ' + (response.ok ? 'status-ok' : 'status-fail');
            } catch (error) {
                results.api = false;
                document.getElementById('api-status').textContent = 'API ì„œë²„: âŒ ì—°ê²° ì‹¤íŒ¨';
                document.getElementById('api-status').className = 'status-card status-fail';
            }

            // ëŒ€ì‹œë³´ë“œ ì²´í¬
            try {
                const response = await fetch('http://localhost:8080/index.html', { timeout: 3000 });
                results.dashboard = response.ok;
                document.getElementById('dashboard-status').textContent = 
                    response.ok ? 'ëŒ€ì‹œë³´ë“œ: âœ… ì •ìƒ' : 'ëŒ€ì‹œë³´ë“œ: âŒ ì˜¤ë¥˜';
                document.getElementById('dashboard-status').className = 
                    'status-card ' + (response.ok ? 'status-ok' : 'status-fail');
            } catch (error) {
                results.dashboard = false;
                document.getElementById('dashboard-status').textContent = 'ëŒ€ì‹œë³´ë“œ: âŒ ì—°ê²° ì‹¤íŒ¨';
                document.getElementById('dashboard-status').className = 'status-card status-fail';
            }

            // ë°ì´í„° íŒŒì¼ ì²´í¬
            try {
                const response = await fetch('/data/raw/realtime_results.json', { timeout: 3000 });
                results.data = response.ok;
                document.getElementById('data-status').textContent = 
                    response.ok ? 'ë°ì´í„° íŒŒì¼: âœ… ì •ìƒ' : 'ë°ì´í„° íŒŒì¼: âŒ ì˜¤ë¥˜';
                document.getElementById('data-status').className = 
                    'status-card ' + (response.ok ? 'status-ok' : 'status-fail');
            } catch (error) {
                results.data = false;
                document.getElementById('data-status').textContent = 'ë°ì´í„° íŒŒì¼: âŒ ë¡œë“œ ì‹¤íŒ¨';
                document.getElementById('data-status').className = 'status-card status-fail';
            }

            // Chart.js ì²´í¬
            results.chartjs = !!window.Chart;
            document.getElementById('chart-status').textContent = 
                results.chartjs ? 'Chart.js: âœ… ë¡œë“œë¨' : 'Chart.js: âŒ ë¡œë“œ ì•ˆë¨';
            document.getElementById('chart-status').className = 
                'status-card ' + (results.chartjs ? 'status-ok' : 'status-fail');

            // ì‹œìŠ¤í…œ ìƒíƒœ ì—…ë°ì´íŠ¸
            const allOk = Object.values(results).every(r => r === true);
            document.getElementById('system-overview').className = 
                'test-section ' + (allOk ? 'success' : 'warning');

            testResults.systemCheck = results;
            console.log('âœ… ì‹œìŠ¤í…œ ì ê²€ ì™„ë£Œ:', results);
        }

        // 2. API í…ŒìŠ¤íŠ¸
        async function testAPI() {
            const resultDiv = document.getElementById('api-result');
            const testSection = document.getElementById('api-test');
            
            try {
                resultDiv.textContent = 'ğŸ”„ API í…ŒìŠ¤íŠ¸ ì§„í–‰ ì¤‘...';
                
                const startTime = Date.now();
                const response = await fetch('http://localhost:8091/api/stocks/live');
                const endTime = Date.now();
                
                if (!response.ok) {
                    throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                }
                
                const data = await response.json();
                const responseTime = endTime - startTime;
                
                if (data && data.predictions && data.predictions.length > 0) {
                    const result = {
                        success: true,
                        responseTime,
                        stockCount: data.predictions.length,
                        marketSummary: data.market_summary,
                        sampleStock: data.predictions[0]
                    };
                    
                    resultDiv.textContent = `âœ… API í…ŒìŠ¤íŠ¸ ì„±ê³µ!
ì‘ë‹µ ì‹œê°„: ${responseTime}ms
ì£¼ì‹ ê°œìˆ˜: ${result.stockCount}ê°œ
ì²« ë²ˆì§¸ ì£¼ì‹: ${result.sampleStock.symbol} - $${result.sampleStock.current_price}
ì‹œì¥ ì‹ ë¢°ë„: ${(result.marketSummary.confidence_level * 100).toFixed(1)}%
ì‹œì¥ ê°ì •: ${result.marketSummary.overall_sentiment}`;
                    
                    testSection.className = 'test-section success';
                    testResults.api = result;
                } else {
                    throw new Error('ë°ì´í„° í˜•ì‹ì´ ì˜ˆìƒê³¼ ë‹¤ë¦„');
                }
            } catch (error) {
                resultDiv.textContent = `âŒ API í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨: ${error.message}`;
                testSection.className = 'test-section error';
                testResults.api = { success: false, error: error.message };
            }
        }

        // 3. ì°¨íŠ¸ ë Œë”ë§ í…ŒìŠ¤íŠ¸
        async function testChartRendering() {
            const resultDiv = document.getElementById('chart-render-result');
            const testSection = document.getElementById('chart-render-test');
            const chartContainer = document.getElementById('test-charts');
            
            try {
                resultDiv.textContent = 'ğŸ”„ ì°¨íŠ¸ ë Œë”ë§ í…ŒìŠ¤íŠ¸ ì§„í–‰ ì¤‘...';
                chartContainer.innerHTML = '';
                
                // Chart.js í™•ì¸
                if (!window.Chart) {
                    throw new Error('Chart.jsê°€ ë¡œë“œë˜ì§€ ì•ŠìŒ');
                }
                
                // APIì—ì„œ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
                const response = await fetch('http://localhost:8091/api/stocks/live');
                const data = await response.json();
                
                if (!data.predictions || data.predictions.length === 0) {
                    throw new Error('APIì—ì„œ ì£¼ì‹ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ì—†ìŒ');
                }
                
                const charts = [];
                const startTime = Date.now();
                
                // ì°¨íŠ¸ ë§¤ë‹ˆì € ì´ˆê¸°í™”
                const chartManager = new ChartManager();
                
                // ì²« 4ê°œ ì£¼ì‹ì— ëŒ€í•´ ì°¨íŠ¸ ìƒì„±
                const stocks = data.predictions.slice(0, 4);
                
                for (let i = 0; i < stocks.length; i++) {
                    const stock = stocks[i];
                    
                    // ì°¨íŠ¸ ì¹´ë“œ ìƒì„±
                    const chartCard = document.createElement('div');
                    chartCard.className = 'chart-card';
                    chartCard.innerHTML = `
                        <h4>${stock.symbol}</h4>
                        <p>í˜„ì¬ê°€: $${stock.current_price} | ì˜ˆì¸¡: ${stock.predicted_direction} | ì‹ ë¢°ë„: ${(stock.confidence * 100).toFixed(1)}%</p>
                        <canvas id="test-chart-${i}" class="chart-canvas"></canvas>
                    `;
                    chartContainer.appendChild(chartCard);
                    
                    // ì°¨íŠ¸ ìƒì„±
                    const canvas = document.getElementById(`test-chart-${i}`);
                    const ctx = canvas.getContext('2d');
                    
                    const chart = await chartManager.createStockChart(ctx, stock);
                    charts.push({ symbol: stock.symbol, chart });
                }
                
                const endTime = Date.now();
                const renderTime = endTime - startTime;
                
                const result = {
                    success: true,
                    chartCount: charts.length,
                    renderTime,
                    averageRenderTime: renderTime / charts.length,
                    charts: charts.map(c => c.symbol)
                };
                
                resultDiv.textContent = `âœ… ì°¨íŠ¸ ë Œë”ë§ í…ŒìŠ¤íŠ¸ ì„±ê³µ!
ìƒì„±ëœ ì°¨íŠ¸: ${result.chartCount}ê°œ
ì´ ë Œë”ë§ ì‹œê°„: ${renderTime}ms
ì°¨íŠ¸ë‹¹ í‰ê·  ì‹œê°„: ${result.averageRenderTime.toFixed(1)}ms
ì°¨íŠ¸ ëª©ë¡: ${result.charts.join(', ')}`;
                
                testSection.className = 'test-section success';
                testResults.chartRendering = result;
                
            } catch (error) {
                resultDiv.textContent = `âŒ ì°¨íŠ¸ ë Œë”ë§ ì‹¤íŒ¨: ${error.message}`;
                testSection.className = 'test-section error';
                testResults.chartRendering = { success: false, error: error.message };
            }
        }

        // 4. ë°ì´í„° ë§¤ë‹ˆì € í…ŒìŠ¤íŠ¸
        async function testDataManager() {
            const resultDiv = document.getElementById('datamanager-result');
            const testSection = document.getElementById('datamanager-test');
            
            try {
                resultDiv.textContent = 'ğŸ”„ ë°ì´í„° ë§¤ë‹ˆì € í…ŒìŠ¤íŠ¸ ì§„í–‰ ì¤‘...';
                
                if (!window.OptimizedDataManager) {
                    throw new Error('OptimizedDataManager í´ë˜ìŠ¤ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ');
                }
                
                const startTime = Date.now();
                const dataManager = new OptimizedDataManager();
                
                // ì£¼ì‹ ë°ì´í„° ë¡œë“œ í…ŒìŠ¤íŠ¸
                const stockData = await dataManager.loadStockData();
                
                // S&P 500 ë°ì´í„° ë¡œë“œ í…ŒìŠ¤íŠ¸  
                const sp500Data = await dataManager.loadSP500Data();
                
                // ì„±ëŠ¥ ë°ì´í„° ë¡œë“œ í…ŒìŠ¤íŠ¸
                const performanceData = await dataManager.loadModelPerformance();
                
                const endTime = Date.now();
                const loadTime = endTime - startTime;
                
                const result = {
                    success: true,
                    loadTime,
                    stockData: !!stockData,
                    sp500Data: !!sp500Data,
                    performanceData: !!performanceData,
                    dataManager: true
                };
                
                resultDiv.textContent = `âœ… ë°ì´í„° ë§¤ë‹ˆì € í…ŒìŠ¤íŠ¸ ì„±ê³µ!
ë¡œë”© ì‹œê°„: ${loadTime}ms
ì£¼ì‹ ë°ì´í„°: ${stockData ? 'âœ…' : 'âŒ'}
S&P500 ë°ì´í„°: ${sp500Data ? 'âœ…' : 'âŒ'}
ì„±ëŠ¥ ë°ì´í„°: ${performanceData ? 'âœ…' : 'âŒ'}`;
                
                testSection.className = 'test-section success';
                testResults.dataManager = result;
                
            } catch (error) {
                resultDiv.textContent = `âŒ ë°ì´í„° ë§¤ë‹ˆì € ì‹¤íŒ¨: ${error.message}`;
                testSection.className = 'test-section error';
                testResults.dataManager = { success: false, error: error.message };
            }
        }

        // 5. ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸
        async function testComponents() {
            const resultDiv = document.getElementById('component-result');
            const testSection = document.getElementById('component-test');
            
            try {
                resultDiv.textContent = 'ğŸ”„ ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸ ì§„í–‰ ì¤‘...';
                
                const components = ['StockGrid', 'ChartManager', 'OptimizedDataManager'];
                const results = {};
                
                components.forEach(componentName => {
                    results[componentName] = !!window[componentName];
                });
                
                const allLoaded = Object.values(results).every(r => r === true);
                
                resultDiv.textContent = `${allLoaded ? 'âœ…' : 'âŒ'} ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸ ê²°ê³¼:
${Object.entries(results).map(([name, loaded]) => 
    `${name}: ${loaded ? 'âœ… ë¡œë“œë¨' : 'âŒ ëˆ„ë½'}`
).join('\n')}`;
                
                testSection.className = 'test-section ' + (allLoaded ? 'success' : 'error');
                testResults.components = { success: allLoaded, components: results };
                
            } catch (error) {
                resultDiv.textContent = `âŒ ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨: ${error.message}`;
                testSection.className = 'test-section error';
                testResults.components = { success: false, error: error.message };
            }
        }

        // 6. ì„±ëŠ¥ í…ŒìŠ¤íŠ¸
        async function testPerformance() {
            const resultDiv = document.getElementById('performance-result');
            const testSection = document.getElementById('performance-test');
            
            try {
                resultDiv.textContent = 'ğŸ”„ ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ ì§„í–‰ ì¤‘...';
                
                // ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ í™•ì¸
                const memoryInfo = performance.memory || {};
                
                // API ì‘ë‹µ ì‹œê°„ ì¸¡ì • (ì—¬ëŸ¬ ë²ˆ)
                const apiTimes = [];
                for (let i = 0; i < 5; i++) {
                    const start = Date.now();
                    await fetch('http://localhost:8091/api/stocks/live');
                    const end = Date.now();
                    apiTimes.push(end - start);
                }
                
                const avgApiTime = apiTimes.reduce((a, b) => a + b, 0) / apiTimes.length;
                const minApiTime = Math.min(...apiTimes);
                const maxApiTime = Math.max(...apiTimes);
                
                const result = {
                    success: true,
                    memory: {
                        used: Math.round((memoryInfo.usedJSHeapSize || 0) / 1024 / 1024),
                        total: Math.round((memoryInfo.totalJSHeapSize || 0) / 1024 / 1024),
                        limit: Math.round((memoryInfo.jsHeapSizeLimit || 0) / 1024 / 1024)
                    },
                    api: {
                        average: avgApiTime,
                        min: minApiTime,
                        max: maxApiTime,
                        tests: apiTimes.length
                    }
                };
                
                resultDiv.textContent = `âœ… ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ ì™„ë£Œ!
ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰: ${result.memory.used}MB / ${result.memory.total}MB (ì œí•œ: ${result.memory.limit}MB)
API ì‘ë‹µì‹œê°„ (${result.api.tests}íšŒ í…ŒìŠ¤íŠ¸):
  â€¢ í‰ê· : ${result.api.average.toFixed(1)}ms
  â€¢ ìµœì†Œ: ${result.api.min}ms  
  â€¢ ìµœëŒ€: ${result.api.max}ms`;
                
                testSection.className = 'test-section success';
                testResults.performance = result;
                
            } catch (error) {
                resultDiv.textContent = `âŒ ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨: ${error.message}`;
                testSection.className = 'test-section error';
                testResults.performance = { success: false, error: error.message };
            }
        }

        // ì „ì²´ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
        async function runAllTests() {
            console.log('ğŸš€ ì „ì²´ í…ŒìŠ¤íŠ¸ ì‹œì‘...');
            
            await runSystemCheck();
            await testAPI();
            await testChartRendering();
            await testDataManager();
            await testComponents();
            await testPerformance();
            
            console.log('âœ… ëª¨ë“  í…ŒìŠ¤íŠ¸ ì™„ë£Œ!');
            generateReport();
        }

        // í…ŒìŠ¤íŠ¸ ë¦¬í¬íŠ¸ ìƒì„±
        function generateReport() {
            const report = {
                timestamp: new Date().toISOString(),
                summary: {
                    total: Object.keys(testResults).length,
                    passed: Object.values(testResults).filter(r => r && r.success !== false).length,
                    failed: Object.values(testResults).filter(r => r && r.success === false).length
                },
                details: testResults
            };
            
            console.log('ğŸ“‹ í…ŒìŠ¤íŠ¸ ë¦¬í¬íŠ¸:', report);
            
            // ë¦¬í¬íŠ¸ë¥¼ ì½˜ì†”ì— ì¶œë ¥
            console.table(Object.entries(testResults).map(([test, result]) => ({
                Test: test,
                Status: result && result.success !== false ? 'âœ… PASS' : 'âŒ FAIL',
                Details: result ? (result.error || 'OK') : 'Not Run'
            })));
            
            alert(`í…ŒìŠ¤íŠ¸ ì™„ë£Œ!\ní†µê³¼: ${report.summary.passed}/${report.summary.total}\nìì„¸í•œ ê²°ê³¼ëŠ” ë¸Œë¼ìš°ì € ì½˜ì†”ì„ í™•ì¸í•˜ì„¸ìš”.`);
        }

        // í˜ì´ì§€ ë¡œë“œì‹œ ìë™ìœ¼ë¡œ ì‹œìŠ¤í…œ ì ê²€ ì‹¤í–‰
        window.addEventListener('load', () => {
            setTimeout(runSystemCheck, 1000);
        });
    </script>
</body>
</html>