# 📊 결과 분석

> 모델 성능, 경제적 가치, XAI 분석 결과

---

## 1. 성능 요약

### 1.1 최종 모델 성능

```
┌─────────────────────────────────────────────────────────────────────────┐
│                     ElasticNet 최종 성능 대시보드                        │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                          │
│  ┌─────────────┐   ┌─────────────┐   ┌─────────────┐   ┌─────────────┐ │
│  │  Test R²    │   │   CV R²     │   │   RMSE      │   │    MAE      │ │
│  │             │   │             │   │             │   │             │ │
│  │   0.2218    │   │   0.1190    │   │   0.0074    │   │   0.0042    │ │
│  │   (22.18%)  │   │  ±0.2520    │   │             │   │             │ │
│  └─────────────┘   └─────────────┘   └─────────────┘   └─────────────┘ │
│                                                                          │
│  해석:                                                                   │
│    • 변동성 변동의 22%를 설명                                           │
│    • 평균 예측 오차 약 0.4%p                                            │
│    • 금융 예측에서 합리적인 성능                                        │
│                                                                          │
└─────────────────────────────────────────────────────────────────────────┘
```

### 1.2 모델 비교

```
┌──────────────────────────────────────────────────────────────────────────┐
│                          모델 성능 비교 차트                              │
├──────────────────────────────────────────────────────────────────────────┤
│                                                                           │
│  Test R²                                                                  │
│  │                                                                        │
│  │  0.30 ┤     ███████████████████████████ Ridge (0.303)                 │
│  │       │                                                                │
│  │  0.25 ┤                                                                │
│  │       │                                                                │
│  │  0.22 ┤ ████████████████████████ ElasticNet (0.2218) ⭐               │
│  │       │                                                                │
│  │  0.21 ┤ ███████████████████████ HAR (0.215)                           │
│  │       │                                                                │
│  │  0.18 ┤ ████████████████████ Random Forest (0.180)                    │
│  │       │                                                                │
│  │  0.00 ┼────────────────────────────────────────────────               │
│          │                                                                │
└──────────────────────────────────────────────────────────────────────────┘

결론:
  • ElasticNet은 HAR 벤치마크와 동등하거나 우수
  • Ridge가 최고 성능이나 과적합 우려
  • Random Forest는 시계열에서 과적합 경향
  • ElasticNet 선택 이유: 안정성 + 해석 가능성
```

---

## 2. 예측 시각화

### 2.1 실제 vs 예측 변동성

```
┌──────────────────────────────────────────────────────────────────────────┐
│              실제 변동성 vs 예측 변동성 (테스트 기간)                     │
├──────────────────────────────────────────────────────────────────────────┤
│                                                                           │
│  변동성                                                                   │
│  (%)                                                                      │
│   │                                                                       │
│ 4%├        ╭─╮                          ╭╮                               │
│   │       ╱  ╲    ╭╮                   ╱ ╲          실제 ───             │
│ 3%├      ╱    ╲  ╱ ╲                  ╱   ╲         예측 - - -           │
│   │     ╱      ╲╱   ╲   ╭╮          ╱     ╲                             │
│ 2%├╮   ╱             ╲ ╱ ╲        ╱       ╲    ╭╮                        │
│   │╲ ╱                ╳   ╲      ╱         ╲  ╱ ╲                        │
│ 1%├ ╳                ╱ ╲   ╲    ╱           ╲╱   ╲                       │
│   │  ╲              ╱   ╲   ╲  ╱                  ╲                      │
│ 0%├───┴────────────┴─────┴───┴─┴──────────────────┴─────────────────    │
│   │  Jan   Feb   Mar   Apr   May   Jun   Jul   Aug   Sep   Oct   Nov    │
│                                                                           │
│  관찰:                                                                    │
│    • 전반적인 추세 포착 성공                                             │
│    • 극단적 스파이크에서 과소예측                                        │
│    • 변동성 클러스터링 패턴 학습                                         │
│                                                                           │
└──────────────────────────────────────────────────────────────────────────┘
```

### 2.2 예측 오차 분포

```
┌──────────────────────────────────────────────────────────────────────────┐
│                        예측 오차 히스토그램                               │
├──────────────────────────────────────────────────────────────────────────┤
│                                                                           │
│  빈도                                                                     │
│   │                                                                       │
│ 80├                     ████                                             │
│   │                   ██████████                                          │
│ 60├                 ████████████████                                      │
│   │               ██████████████████████                                  │
│ 40├             ████████████████████████████                              │
│   │           ████████████████████████████████                            │
│ 20├         ██████████████████████████████████████                        │
│   │       ████████████████████████████████████████████                    │
│  0├─┬─┬─┬─┬─┬─┬─┬─┬─┬─┬─┬─┬─┬─┬─┬─┬─┬─┬─┬─┬─┬─┬─┬─┬─┬─┬─                 │
│    -1.5  -1.0  -0.5   0    0.5   1.0   1.5   2.0                         │
│                       오차 (%p)                                           │
│                                                                           │
│  통계:                                                                    │
│    Mean:  0.0002 (거의 0, 편향 없음)                                     │
│    Std:   0.0074                                                         │
│    Skew:  1.24 (양의 왜도 - 과소예측 경향)                               │
│    Kurt:  5.67 (뾰족 - 극단값 존재)                                      │
│                                                                           │
└──────────────────────────────────────────────────────────────────────────┘
```

---

## 3. XAI 분석 (SHAP)

### 3.1 특성 중요도

```
┌──────────────────────────────────────────────────────────────────────────┐
│                     SHAP 특성 중요도 (Top 15)                            │
├──────────────────────────────────────────────────────────────────────────┤
│                                                                           │
│  volatility_20      ████████████████████████████████████████  1.00       │
│  realized_vol_20    ████████████████████████████████████      0.92       │
│  volatility_50      ██████████████████████████████            0.71       │
│  vol_lag_1          █████████████████████████████             0.68       │
│  return_lag_1       ████████████████████████████              0.64       │
│  vol_ratio_5_20     ███████████████████████████               0.61       │
│  volatility_10      ██████████████████████████                0.57       │
│  mean_return_20     ████████████████████████                  0.50       │
│  skew_20            ███████████████████████                   0.46       │
│  momentum_10        ██████████████████████                    0.43       │
│  kurtosis_20        █████████████████████                     0.39       │
│  vol_lag_2          ████████████████████                      0.36       │
│  high_low_range     ███████████████████                       0.33       │
│  volume_ratio       ██████████████████                        0.30       │
│  return_lag_2       █████████████████                         0.27       │
│                                                                           │
│  핵심 인사이트:                                                          │
│    • 변동성 지표가 가장 중요 (상위 4개 모두 변동성 관련)                 │
│    • 20일 변동성이 가장 영향력 큼 (중기 트렌드)                          │
│    • 변동성 클러스터링 효과 확인 (vol_lag 특성)                          │
│                                                                           │
└──────────────────────────────────────────────────────────────────────────┘
```

### 3.2 특성 효과 분석

```
┌──────────────────────────────────────────────────────────────────────────┐
│                      SHAP Dependence Plot 요약                           │
├──────────────────────────────────────────────────────────────────────────┤
│                                                                           │
│  [volatility_20]                                                         │
│  ┌────────────────────────────────────────────┐                          │
│  │ SHAP    │        ╭─────────────────────    │                          │
│  │ Value   │      ╱                           │  양의 관계:              │
│  │    +    │    ╱                             │  변동성↑ → 예측↑        │
│  │    0────│──╱─────────────────────────────  │                          │
│  │    -    │╱                                 │                          │
│  │         └───────────────────────────────── │                          │
│  │              low        high               │                          │
│  │              volatility_20                 │                          │
│  └────────────────────────────────────────────┘                          │
│                                                                           │
│  [vol_ratio_5_20]                                                        │
│  ┌────────────────────────────────────────────┐                          │
│  │ SHAP    │─────────────╮                    │                          │
│  │ Value   │              ╲                   │  음의 관계:              │
│  │    +    │               ╲                  │  비율↑ → 예측↓          │
│  │    0────│────────────────╲────────────────  │  (평균 회귀 효과)       │
│  │    -    │                 ╲───────────     │                          │
│  │         └───────────────────────────────── │                          │
│  │              low          high             │                          │
│  │              vol_ratio_5_20                │                          │
│  └────────────────────────────────────────────┘                          │
│                                                                           │
└──────────────────────────────────────────────────────────────────────────┘
```

### 3.3 핵심 발견

```
┌──────────────────────────────────────────────────────────────────────────┐
│                      XAI 분석 핵심 발견                                   │
├──────────────────────────────────────────────────────────────────────────┤
│                                                                           │
│  1. 변동성 지속성 (Volatility Persistence)                               │
│     • 과거 변동성이 미래 변동성을 가장 잘 예측                           │
│     • 20일 변동성 > 10일 > 5일 (중기 정보가 더 중요)                     │
│                                                                           │
│  2. 평균 회귀 (Mean Reversion)                                           │
│     • vol_ratio_5_20이 높으면 (단기 변동성 > 장기)                       │
│     • 미래 변동성 감소 예측 (평균으로 회귀)                              │
│                                                                           │
│  3. 래그 효과 (Lag Effect)                                               │
│     • 1일 전 변동성이 가장 중요 (vol_lag_1)                              │
│     • 시간이 지날수록 영향력 감소 (vol_lag_2 < vol_lag_1)                │
│                                                                           │
│  4. 수익률 vs 변동성                                                     │
│     • return_lag_1: 음의 효과 (음의 수익 → 변동성 증가)                  │
│     • 레버리지 효과 확인 (하락장에서 변동성 증가)                        │
│                                                                           │
└──────────────────────────────────────────────────────────────────────────┘
```

---

## 4. 경제적 가치 분석

### 4.1 수익 곡선

```
┌──────────────────────────────────────────────────────────────────────────┐
│                    누적 수익률 비교 (2015-2024)                           │
├──────────────────────────────────────────────────────────────────────────┤
│                                                                           │
│  누적                                                                     │
│  수익률                                                                   │
│   │                                                            ╱          │
│300%├                                                         ╱ B&H       │
│   │                                                        ╱             │
│250%├                                                     ╱               │
│   │                                                   ╱                  │
│200%├                                              ╱ ╭╯                   │
│   │                                           ╱ ╭╯                       │
│150%├                              ╭───────╮ ╱╭╯    Model                 │
│   │                           ╭─╯         ╲╯                              │
│100%├                     ╭───╯                                            │
│   │              ╭──────╯                                                 │
│ 50%├       ╭────╯                                                         │
│   │  ╭───╯                                                                │
│  0%├─╯─────────────────────────────────────────────────────────────────  │
│    2015   2016   2017   2018   2019   2020   2021   2022   2023   2024   │
│                                                                           │
│  관찰:                                                                    │
│    • 2020 코로나 위기: 모델이 빠르게 포지션 축소                         │
│    • 2021-2022 강세장: B&H 대비 수익 저조 (레버리지 제한)               │
│    • 전반적으로 안정적인 성장 곡선                                       │
│                                                                           │
└──────────────────────────────────────────────────────────────────────────┘
```

### 4.2 리스크 조정 성과

```
┌──────────────────────────────────────────────────────────────────────────┐
│                      리스크 조정 성과 비교                                │
├──────────────────────────────────────────────────────────────────────────┤
│                                                                           │
│                    Model Strategy    Buy & Hold    Difference            │
│  ┌─────────────────────────────────────────────────────────────────┐    │
│  │ 연간 수익률    │    14.10%     │    22.71%    │    -8.62%       │    │
│  │               │               │              │                  │    │
│  │ 연간 변동성    │    12.24%  ✅ │    13.04%    │    -0.80%       │    │
│  │               │               │              │                  │    │
│  │ 샤프 비율     │     0.989     │     1.588    │    -0.600       │    │
│  │               │               │              │                  │    │
│  │ 소르티노 비율  │     1.42      │     2.18     │    -0.76        │    │
│  │               │               │              │                  │    │
│  │ 최대 낙폭     │   -10.81%     │   -10.15%    │    -0.66%       │    │
│  │               │               │              │                  │    │
│  │ 칼마 비율     │     1.30      │     2.24     │    -0.94        │    │
│  │               │               │              │                  │    │
│  │ 승률         │    54.2%      │    54.8%     │    -0.6%        │    │
│  └─────────────────────────────────────────────────────────────────┘    │
│                                                                           │
│  결론:                                                                    │
│    ✅ 변동성 감소: 포트폴리오 안정성 향상                                │
│    ⚠️ 수익률 감소: 강세장에서 레버리지 제한의 비용                      │
│    📌 용도: 알파 창출이 아닌 리스크 모니터링                             │
│                                                                           │
└──────────────────────────────────────────────────────────────────────────┘
```

---

## 5. 기간별 분석

### 5.1 연도별 성능

```
┌──────────────────────────────────────────────────────────────────────────┐
│                         연도별 R² 성능                                    │
├──────────────────────────────────────────────────────────────────────────┤
│                                                                           │
│  R²                                                                       │
│   │                                                                       │
│0.35├                          █████                                      │
│   │                          █████                                       │
│0.30├        █████            █████                                       │
│   │        █████  █████      █████                                       │
│0.25├  █████ █████  █████      █████  █████                               │
│   │  █████ █████  █████      █████  █████  █████                         │
│0.20├  █████ █████  █████ █████ █████  █████  █████  █████                │
│   │  █████ █████  █████ █████ █████  █████  █████  █████                 │
│0.15├  █████ █████  █████ █████ █████  █████  █████  █████  █████         │
│   │  █████ █████  █████ █████ █████  █████  █████  █████  █████  █████   │
│0.10├──█████─█████──█████─█████─█████──█████──█████──█████──█████──█████──│
│    │  2015  2016   2017  2018  2019   2020   2021   2022   2023   2024   │
│                                                                           │
│  관찰:                                                                    │
│    • 2020: 최고 성능 (코로나 변동성 급등, 예측 가능 패턴)               │
│    • 2017, 2021: 낮은 성능 (저변동성 기간, 예측 난이도↑)               │
│    • 일관성: 대부분 15-30% 범위                                          │
│                                                                           │
└──────────────────────────────────────────────────────────────────────────┘
```

### 5.2 시장 상황별 성능

| 시장 상황 | 기간 | R² | 해석 |
|-----------|------|-----|------|
| 저변동 정상 | 2017 | 0.18 | 변동성 낮아 예측 난이도↑ |
| 급변동 위기 | 2020 Q1 | 0.35 | 변동성 급등, 패턴 뚜렷 |
| 강세장 | 2021 | 0.20 | 낮은 변동성, 예측력 저하 |
| 하락장 | 2022 | 0.28 | 변동성 높아 예측력 개선 |

---

## 6. 결과 파일 목록

| 파일명 | 위치 | 내용 |
|--------|------|------|
| final_model_performance.json | data/raw/ | 최종 성능 지표 |
| test_predictions.csv | data/raw/ | 테스트 예측 결과 |
| rv_economic_backtest_results.json | data/raw/ | 백테스트 결과 |
| har_vs_ridge_comparison.json | data/raw/ | 모델 비교 |
| model_comparison.json | data/raw/ | 전체 모델 비교 |

---

**문서 작성일**: 2025-12-04
**버전**: 1.0
