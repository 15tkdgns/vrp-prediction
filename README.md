# ğŸ“ˆ SPY ETF ë³€ë™ì„± ì˜ˆì¸¡ ì‹œìŠ¤í…œ

> **ë¨¸ì‹ ëŸ¬ë‹ ê¸°ë°˜ ê¸ˆìœµ ë³€ë™ì„± ì˜ˆì¸¡ ë° ë¦¬ìŠ¤í¬ ê´€ë¦¬ ì‹œìŠ¤í…œ**

[![Python](https://img.shields.io/badge/Python-3.9+-blue.svg)](https://python.org)
[![scikit-learn](https://img.shields.io/badge/scikit--learn-1.3+-orange.svg)](https://scikit-learn.org)
[![License](https://img.shields.io/badge/License-MIT-green.svg)](LICENSE)

---

## ğŸ“‹ ëª©ì°¨

1. [í”„ë¡œì íŠ¸ ê°œìš”](#-í”„ë¡œì íŠ¸-ê°œìš”)
2. [í•µì‹¬ ì„±ê³¼](#-í•µì‹¬-ì„±ê³¼)
3. [ì‹œìŠ¤í…œ êµ¬ì¡°](#-ì‹œìŠ¤í…œ-êµ¬ì¡°)
4. [ë¹ ë¥¸ ì‹œì‘](#-ë¹ ë¥¸-ì‹œì‘)
5. [ë¬¸ì„œ](#-ë¬¸ì„œ)
6. [ê¸°ìˆ  ìŠ¤íƒ](#-ê¸°ìˆ -ìŠ¤íƒ)

---

## ğŸ¯ í”„ë¡œì íŠ¸ ê°œìš”

### ëª©í‘œ
SPY ETF(S&P 500 ì¶”ì¢…)ì˜ **5ì¼ í›„ ë³€ë™ì„±(target_vol_5d)**ì„ ì˜ˆì¸¡í•˜ì—¬ ê¸ˆìœµ ë¦¬ìŠ¤í¬ ê´€ë¦¬ì— í™œìš©

### í•µì‹¬ ê°€ì¹˜
| í•­ëª© | ì„¤ëª… |
|------|------|
| **ì˜ˆì¸¡ ëŒ€ìƒ** | 5ì¼ í›„ ë³€ë™ì„± (Realized Volatility) |
| **ë°ì´í„° ê¸°ê°„** | 2015ë…„ ~ 2024ë…„ (ì•½ 10ë…„) |
| **ë°ì´í„° ì¶œì²˜** | yfinance (ì‹¤ì œ ì‹œì¥ ë°ì´í„°) |
| **ì ìš© ë¶„ì•¼** | VIX ì˜µì…˜ ê±°ë˜, ë™ì  í—¤ì§•, í¬ì§€ì…˜ ì‚¬ì´ì§• |

### 3ëŒ€ ê¸ˆê¸°ì‚¬í•­ ì¤€ìˆ˜ âœ…
```
1. âŒ ë°ì´í„° í•˜ë“œì½”ë”© ê¸ˆì§€ â†’ âœ… yfinance API ì‚¬ìš©
2. âŒ Random ë°ì´í„° ìƒì„± ê¸ˆì§€ â†’ âœ… ì‹¤ì œ ì‹œì¥ ë°ì´í„°ë§Œ ì‚¬ìš©
3. âŒ ë°ì´í„° ëˆ„ì¶œ(Leakage) ê¸ˆì§€ â†’ âœ… Purged K-Fold CV ì ìš©
```

---

## ğŸ† í•µì‹¬ ì„±ê³¼

### ëª¨ë¸ ì„±ëŠ¥ ë¹„êµ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      ëª¨ë¸       â”‚   Test RÂ² â”‚   CV RÂ²   â”‚       ë¹„ê³        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ElasticNet      â”‚   0.2218  â”‚   0.1190  â”‚ â­ ìµœì¢… ì±„íƒ     â”‚
â”‚ Ridge           â”‚   0.3030  â”‚   0.2150  â”‚ ë²¤ì¹˜ë§ˆí¬         â”‚
â”‚ HAR (Baseline)  â”‚   0.2150  â”‚     -     â”‚ í•™ìˆ  í‘œì¤€        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ê²½ì œì  ê°€ì¹˜ (ë°±í…ŒìŠ¤íŠ¸ ê²°ê³¼)

| ì§€í‘œ | ëª¨ë¸ ì „ëµ | Buy & Hold | íš¨ê³¼ |
|------|-----------|------------|------|
| ì—°ê°„ ìˆ˜ìµë¥  | 14.10% | 22.71% | -8.62% |
| **ë³€ë™ì„±** | **12.24%** | **13.04%** | **-0.8% âœ…** |
| ìƒ¤í”„ ë¹„ìœ¨ | 0.989 | 1.588 | -0.600 |
| ìµœëŒ€ ë‚™í­ | -10.81% | -10.15% | -0.66% |

> **í•µì‹¬ ì¸ì‚¬ì´íŠ¸**: ì•ŒíŒŒ ì°½ì¶œë³´ë‹¤ **ë¦¬ìŠ¤í¬ ëª¨ë‹ˆí„°ë§**ì— ê°•ì . ë³€ë™ì„± 0.8% ê°ì†Œë¡œ í¬íŠ¸í´ë¦¬ì˜¤ ì•ˆì •ì„± í–¥ìƒ.

---

## ğŸ“ ì‹œìŠ¤í…œ êµ¬ì¡°

```
workspace/
â”‚
â”œâ”€â”€ ğŸ“„ README.md                 # í”„ë¡œì íŠ¸ ë©”ì¸ ë¬¸ì„œ (ì´ íŒŒì¼)
â”œâ”€â”€ ğŸ“„ CLAUDE.md                 # ê°œë°œ ê°€ì´ë“œ
â”œâ”€â”€ ğŸ“„ app.py                    # Streamlit ëŒ€ì‹œë³´ë“œ (6íƒ­)
â”œâ”€â”€ ğŸ“„ pyproject.toml            # Python í”„ë¡œì íŠ¸ ì„¤ì •
â”‚
â”œâ”€â”€ ğŸ“‚ src/                      # ğŸ’» ì†ŒìŠ¤ ì½”ë“œ
â”‚   â”œâ”€â”€ ğŸ“‚ models/               # ì˜ˆì¸¡ ëª¨ë¸
â”‚   â”‚   â”œâ”€â”€ train_final_reproducible_model.py  â­ ë©”ì¸ í•™ìŠµ ìŠ¤í¬ë¦½íŠ¸
â”‚   â”‚   â”œâ”€â”€ correct_target_design.py           â­ íƒ€ê²Ÿ ì„¤ê³„ ëª¨ë¸
â”‚   â”‚   â””â”€â”€ garch_enhanced_model.py            GARCH í†µí•© ëª¨ë¸
â”‚   â”œâ”€â”€ ğŸ“‚ validation/           # ê²€ì¦ ì‹œìŠ¤í…œ
â”‚   â”‚   â”œâ”€â”€ purged_cross_validation.py         â­ Purged K-Fold CV
â”‚   â”‚   â”œâ”€â”€ economic_backtest_validator.py     ê²½ì œì  ë°±í…ŒìŠ¤íŠ¸
â”‚   â”‚   â””â”€â”€ walk_forward_validation.py         Walk-Forward ê²€ì¦
â”‚   â”œâ”€â”€ ğŸ“‚ core/                 # í•µì‹¬ ëª¨ë“ˆ (ì„¤ì •, ë¡œê¹…, ë°ì´í„° ì²˜ë¦¬)
â”‚   â”œâ”€â”€ ğŸ“‚ analysis/             # ë¶„ì„ ë„êµ¬ (XAI, ì„±ëŠ¥ ë¶„ì„)
â”‚   â”œâ”€â”€ ğŸ“‚ features/             # íŠ¹ì„± ê³µí•™
â”‚   â””â”€â”€ ğŸ“‚ utils/                # ìœ í‹¸ë¦¬í‹°
â”‚
â”œâ”€â”€ ğŸ“‚ data/                     # ğŸ’¾ ë°ì´í„°
â”‚   â”œâ”€â”€ ğŸ“‚ raw/                  # ì›ì‹œ ë°ì´í„° ë° ê²°ê³¼ JSON
â”‚   â”œâ”€â”€ ğŸ“‚ training/             # í•™ìŠµìš© CSV ë°ì´í„°
â”‚   â”œâ”€â”€ ğŸ“‚ validation/           # ê²€ì¦ ë°ì´í„°
â”‚   â””â”€â”€ ğŸ“‚ models/               # ì €ì¥ëœ ëª¨ë¸ íŒŒì¼
â”‚
â”œâ”€â”€ ğŸ“‚ docs/                     # ğŸ“š ë¬¸ì„œ
â”‚   â”œâ”€â”€ ğŸ“‚ 01-overview/          # í”„ë¡œì íŠ¸ ê°œìš”
â”‚   â”œâ”€â”€ ğŸ“‚ 02-architecture/      # ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜
â”‚   â”œâ”€â”€ ğŸ“‚ 03-models/            # ëª¨ë¸ ì„¤ëª…
â”‚   â”œâ”€â”€ ğŸ“‚ 04-validation/        # ê²€ì¦ ë°©ë²•ë¡ 
â”‚   â”œâ”€â”€ ğŸ“‚ 05-results/           # ê²°ê³¼ ë¶„ì„
â”‚   â””â”€â”€ ğŸ“‚ 06-usage/             # ì‚¬ìš© ê°€ì´ë“œ
â”‚
â”œâ”€â”€ ğŸ“‚ paper/                    # ğŸ“„ ë…¼ë¬¸ ìë£Œ
â”‚   â”œâ”€â”€ figures/                 # ë…¼ë¬¸ í”¼ê·œì–´
â”‚   â””â”€â”€ data/                    # ë…¼ë¬¸ ë°ì´í„°
â”‚
â””â”€â”€ ğŸ“‚ archive/                  # ğŸ—„ï¸ êµ¬ë²„ì „/ë¯¸ì‚¬ìš© íŒŒì¼ ë³´ê´€
    â”œâ”€â”€ deprecated_models/       # êµ¬ë²„ì „ ëª¨ë¸
    â”œâ”€â”€ deprecated_validation/   # êµ¬ë²„ì „ ê²€ì¦ ìŠ¤í¬ë¦½íŠ¸
    â””â”€â”€ old_logs/                # ì˜¤ë˜ëœ ë¡œê·¸
```

---

## ğŸš€ ë¹ ë¥¸ ì‹œì‘

### 1. í™˜ê²½ ì„¤ì •

```bash
# ì˜ì¡´ì„± ì„¤ì¹˜
pip install -r requirements/base.txt
```

### 2. ëª¨ë¸ í•™ìŠµ

```bash
# ì¬í˜„ ê°€ëŠ¥í•œ ëª¨ë¸ í•™ìŠµ (ì•½ 10ë¶„ ì†Œìš”)
PYTHONPATH=/root/workspace python3 src/models/train_final_reproducible_model.py
```

### 3. ëŒ€ì‹œë³´ë“œ ì‹¤í–‰

```bash
# Streamlit ëŒ€ì‹œë³´ë“œ (6íƒ­ ì¸í„°ë™í‹°ë¸Œ ë¶„ì„)
streamlit run app.py
# ë¸Œë¼ìš°ì €: http://localhost:8501
```

### 4. ì‹œìŠ¤í…œ ìƒíƒœ í™•ì¸

```bash
PYTHONPATH=/root/workspace python3 -c "
from src.utils.system_orchestrator import SystemOrchestrator
orchestrator = SystemOrchestrator()
result = orchestrator.initialize_components()
print(f'System Status: {\"Ready\" if result else \"Error\"}')"
```

---

## ğŸ“š ë¬¸ì„œ

| ë¬¸ì„œ | ì„¤ëª… | ê²½ë¡œ |
|------|------|------|
| **í”„ë¡œì íŠ¸ ê°œìš”** | ëª©í‘œ, ë²”ìœ„, í•µì‹¬ ê°œë… | `docs/01-overview/` |
| **ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜** | ë°ì´í„° íŒŒì´í”„ë¼ì¸, ëª¨ë“ˆ êµ¬ì¡° | `docs/02-architecture/` |
| **ëª¨ë¸ ì„¤ëª…** | ì•Œê³ ë¦¬ì¦˜, í•˜ì´í¼íŒŒë¼ë¯¸í„°, íŠ¹ì„± | `docs/03-models/` |
| **ê²€ì¦ ë°©ë²•ë¡ ** | Purged CV, ë°±í…ŒìŠ¤íŠ¸, ë¬´ê²°ì„± ê²€ì‚¬ | `docs/04-validation/` |
| **ê²°ê³¼ ë¶„ì„** | ì„±ëŠ¥ ì§€í‘œ, ê²½ì œì  ê°€ì¹˜, XAI | `docs/05-results/` |
| **ì‚¬ìš© ê°€ì´ë“œ** | ì„¤ì¹˜, ì‹¤í–‰, API ì‚¬ìš©ë²• | `docs/06-usage/` |

---

## ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ

### í•µì‹¬ ë¼ì´ë¸ŒëŸ¬ë¦¬

| ë¶„ë¥˜ | ë¼ì´ë¸ŒëŸ¬ë¦¬ | ìš©ë„ |
|------|------------|------|
| **ë°ì´í„°** | pandas, numpy | ë°ì´í„° ì²˜ë¦¬ |
| **ML** | scikit-learn | ElasticNet, Ridge, ê²€ì¦ |
| **ê¸ˆìœµ ë°ì´í„°** | yfinance | SPY ETF ë°ì´í„° ìˆ˜ì§‘ |
| **ì‹œê°í™”** | matplotlib, plotly | ì°¨íŠ¸ ìƒì„± |
| **ëŒ€ì‹œë³´ë“œ** | Streamlit | ì¸í„°ë™í‹°ë¸Œ UI |
| **XAI** | SHAP | ëª¨ë¸ í•´ì„ |

### ëª¨ë¸ ì‚¬ì–‘

```yaml
Model: ElasticNet
Alpha: 0.0005
L1 Ratio: 0.3
Scaler: StandardScaler
CV: K-Fold (n_splits=5, shuffle=False)
Random Seed: 42
```

---

## ğŸ“Š ì£¼ìš” ê²°ê³¼ íŒŒì¼

| íŒŒì¼ | ì„¤ëª… |
|------|------|
| `data/raw/final_model_performance.json` | ìµœì¢… ëª¨ë¸ ì„±ëŠ¥ ì§€í‘œ |
| `data/raw/test_predictions.csv` | 274ê°œ í…ŒìŠ¤íŠ¸ ì˜ˆì¸¡ ê²°ê³¼ |
| `data/raw/rv_economic_backtest_results.json` | ê²½ì œì  ë°±í…ŒìŠ¤íŠ¸ ê²°ê³¼ |
| `data/models/final_elasticnet.pkl` | í•™ìŠµëœ ElasticNet ëª¨ë¸ |

---

## ğŸ“ ë¼ì´ì„ ìŠ¤

MIT License

---

## ğŸ“ ë¬¸ì˜

- **Repository**: [GitHub](https://github.com/15tkdgns/ai-stock-prediction)
- **Branch**: `feature/price-prediction`

---

**ìµœì¢… ì—…ë°ì´íŠ¸**: 2025-12-04
